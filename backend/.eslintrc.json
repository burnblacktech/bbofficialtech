{
  "env": {
    "node": true,
    "es2021": true
  },
  "extends": [
    "eslint:recommended"
  ],
  "parserOptions": {
    "ecmaVersion": "latest",
    "sourceType": "module"
  },
  "rules": {
    "indent": "off",
    "linebreak-style": "off",
    "quotes": "off",
    "semi": "off",
    "no-unused-vars": "warn",
    "no-console": "off",
    "no-undef": "error",
    "no-unreachable": "error",
    "no-dupe-keys": "error",
    "no-duplicate-case": "error",
    "no-empty": "warn",
    "no-extra-semi": "warn",
    "no-func-assign": "error",
    "no-invalid-regexp": "error",
    "no-irregular-whitespace": "error",
    "no-obj-calls": "error",
    "no-regex-spaces": "error",
    "no-sparse-arrays": "error",
    "no-unexpected-multiline": "error",
    "use-isnan": "error",
    "valid-typeof": "error",
    "no-restricted-syntax": [
      "error",
      {
        "selector": "AssignmentExpression[left.property.name='status'][left.object.name=/filing|Filing/]",
        "message": "❌ S7 VIOLATION: Direct state mutation forbidden. Use SubmissionStateMachine.transition() instead. (S7_LOCK.md §1)"
      }
    ],
    "no-restricted-imports": [
      "error",
      {
        "patterns": [
          {
            "group": [
              "**/models/*"
            ],
            "message": "❌ S7 VIOLATION: Controllers must not import models directly. Use services instead. Exception: Admin controllers (must be documented in S7_LOCK.md). (S7_LOCK.md §4)"
          }
        ]
      }
    ]
  },
  "overrides": [
    {
      "files": [
        "src/controllers/admin/**/*.js",
        "src/services/**/*.js",
        "src/domain/**/*.js",
        "src/models/**/*.js",
        "src/scripts/**/*.js",
        "src/workers/**/*.js",
        "src/gateways/**/*.js"
      ],
      "rules": {
        "no-restricted-imports": "off"
      }
    }
  ],
  "globals": {
    "process": "readonly",
    "require": "readonly",
    "module": "readonly",
    "exports": "readonly",
    "__dirname": "readonly",
    "__filename": "readonly",
    "console": "readonly",
    "Buffer": "readonly",
    "global": "readonly"
  }
}